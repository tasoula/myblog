# Приложение-блог на Spring Framework

Это веб-приложение-блог, разработанное с использованием Spring Framework (версия 6.1). Оно предоставляет базовый функционал блога, включая просмотр списка постов, создание, редактирование и комментирование.  Приложение предназначено для развертывания в стандартном сервлет-контейнере, таком как Tomcat или Jetty, и *не* использует Spring Boot.

## Ключевые особенности:

•   **Просмотр списка постов:** Отображает постраничный список постов блога с превью, количеством комментариев, лайков и тегами. Поддерживает фильтрацию по тегу.
•   **Создание/Редактирование постов:** Позволяет пользователям создавать новые посты блога с заголовками, изображениями, контентом и тегами. Существующие посты можно редактировать с использованием того же функционала.
•   **Просмотр поста:** Отображает полное содержание поста блога, включая заголовок, изображение, контент (отформатированный по абзацам), теги, комментарии, кнопку "лайк" и опции редактирования/удаления.
•   **Комментирование:** Пользователи могут добавлять и редактировать комментарии к постам непосредственно на странице просмотра поста.
•   **Лайки:**  Посты можно лайкать, увеличивая счетчик лайков.
•   **Тегирование:** Посты можно тегировать, что позволяет фильтровать и организовывать их.
•   **Персистентность:** Использует реляционную базу данных (PostgreSQL) для хранения данных.
•   **Тестирование:** Включает в себя юнит- и интеграционные тесты с использованием JUnit 5, Spring TestContext Framework и кэширования контекстов.

## Технологии:

•   **Фреймворк:** Spring Framework (6.1+)
•   **Язык:** Java 21
•   **Инструмент сборки:** Maven
•   **База данных:** PostgreSQL
•   **Тестирование:** JUnit 5, Spring TestContext Framework

## Необходимые условия:

•   Java 21 JDK
•   Maven
•   Экземпляр базы данных PostgreSQL
•   Сервлет-контейнер (Tomcat или Jetty)

## Настройка и конфигурация:

1.  **Настройка базы данных:**
    •   Создайте базу данных PostgreSQL для приложения (экземпляр для разработки, и экземпляр для тестрования').
    •   Схема автоматически создается Spring Data JPA.
    •   **(Опционально)** Чтобы заполнить базу данных начальными данными, вы можете использовать файл дампа `backup_blog_db.sql`, расположенный в каталоге `db-backup`.  *Внимание: Это только для первоначальной настройки и демонстрационных целей.  Не используйте это для миграции production-данных.*
2.  **Конфигурация:**
    •   Отредактируйте файл `src/main/resources/application.properties`. Настройте следующие свойства:
    *   `spring.datasource.url`: JDBC URL для рабочей базы данных PostgreSQL (например, `jdbc:postgresql://localhost:5432/your_database_name`)
    *   `spring.datasource.username`: Имя пользователя рабочей базы данных.
    *   `spring.datasource.password`: Пароль базы рабочей данных.
    *   `spring.datasource.test.url`: JDBC URL для тестовой базы данных PostgreSQL 
    *   `spring.datasource.test.username`: Имя пользователя тестовой базы данных.
    *   `spring.datasource.test.password`: Пароль тестовой базы данных.
    *   `blog.image.upload.dir`: Каталог, в котором будут храниться загруженные изображения. Убедитесь, что этот каталог существует и у приложения есть права на запись в него.

## Сборка и тестирование:

1.  **Компиляция и упаковка:**
    bash
    mvn clean package
    - создание файла blog-app.war в каталоге target.
2. Запуск тестов:
    bash
    mvn clean test 
    - выполнение все юнит- и интеграционных тестов. 

▌Развертывание:

1. Развертывание в сервлет-контейнере:
   •  Скопируйте файл blog-app.war из каталога target в каталог webapps вашей установки Tomcat (или Jetty).
   •  Запустите сервер Tomcat.
2. Доступ к приложению:
   •  Откройте свой веб-браузер и перейдите по адресу http://localhost:8080/blog-app/posts (отрегулируйте порт и контекстный путь в соответствии с вашей конфигурацией Tomcat).






 
