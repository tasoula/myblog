# Приложение-блог на Spring Framework

Веб-приложение-блог, разработанное с использованием Spring Boot (версия 3.2+). Предоставляет базовый функционал блога, включая просмотр, создание, редактирование постов и добавление комментариев. Приложение упаковано в Executable JAR и запускается во встроенном сервлет-контейнере (Jetty или Tomcat).

## Ключевые особенности:

•   **Просмотр списка постов:** Постраничный список постов блога с превью, количеством комментариев, лайков и тегами. Поддерживается фильтрация по тегу.
•   **Создание/Редактирование постов:** Создание новых постов с заголовком, изображением, контентом и тегами. Редактирование существующих постов.
•   **Просмотр поста:** Полное содержание поста: заголовок, изображение, контент (отформатированный по абзацам), теги, комментарии, кнопка "лайк" и опции редактирования/удаления.
•   **Комментирование:** Добавление и редактирование комментариев к постам.
•   **Лайки:**  Возможность ставить лайки постам.
•   **Тегирование:**  Теги для организации и фильтрации постов.
•   **Персистентность:**  Использование реляционной базы данных PostgreSQL для хранения данных.
•   **Тестирование:** Юнит- и интеграционные тесты с использованием JUnit 5, Spring Boot Test и кэшированием контекстов.

## Технологии:

•   **Фреймворк:** Spring Boot (3.5.3)
•   **Язык:** Java 21
•   **Инструмент сборки:** Gradle
•   **База данных:** PostgreSQL
•   **Шаблонизатор:** Thymeleaf
•   **Тестирование:** JUnit 5, Spring Boot Test

## Необходимые условия:

•   Java 21 JDK
•   Gradle
•   Экземпляр PostgreSQL

## Настройка и конфигурация:

1.  **Настройка базы данных:**

    •   Создайте базы данных PostgreSQL для разработки и тестирования.
    •   Схема создается автоматически с помощью Spring Data JDBC.
    •   (Опционально) Для первоначальной загрузки данных можно использовать дамп `db-backup/backup_blog_db.sql`.
    ***Внимание:*** *Используйте только для первоначальной настройки и демонстрации. Не применяйте для миграции production-данных.*

2.  **Конфигурация приложения:**

    Отредактируйте файл `src/main/resources/application.yml` и настройте следующие параметры:

    •   **Рабочая база данных:**
```yaml
     spring:
      datasource:
       url: jdbc:postgresql://localhost:5432/your_database_name
       username: your_username
       password: your_password
```
•  Директория для загрузки изображений:

```yaml
    blog:
     image:
      upload:
       dir: /path/to/your/upload/directory
```
Убедитесь, что указанная директория существует, и у приложения есть права на запись в нее.

•  Тестовая база данных (для тестового профиля):

```yaml
    spring:
     profiles:
      active: test
     datasource:
      url: jdbc:postgresql://localhost:5432/your_test_database_name
      username: your_test_username
      password: your_test_password
```

## Сборка и тестирование:

1. Компиляция и упаковка:


```bash
  ./gradlew :bootJar
```

Будет создан файл blog-app.jar в каталоге build/libs.

2. Запуск тестов:


```bash
  ./gradlew :test
```

## Запуск приложения:


```bash
java -jar build/libs/blog-app.jar
```

▌Доступ к приложению:

Откройте веб-браузер и перейдите по адресу http://localhost:8080/blog-app/posts. При необходимости измените порт и контекстный путь в соответствии с вашей конфигурацией.

